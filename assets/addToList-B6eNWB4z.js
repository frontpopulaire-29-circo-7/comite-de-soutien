import"./modulepreload-polyfill-B5Qt9EMX.js";import{i as p,g as f,q as b,w as y,c as i,a as S,b as h}from"./index.browser.esm2017-B2UDLT3a.js";async function q(t,e){const o=b(i(t,"soutiens"),y("email","==",e.email));return(await S(o)).size>0}async function w(t,e){return await h(i(t,"soutiens"),e),!0}window.addEventListener("DOMContentLoaded",()=>{const e=p({apiKey:"AIzaSyD1T695o8J8vps5e8YeTYSGVhQYIi1LJNY",authDomain:"comite-de-soutien.firebaseapp.com",projectId:"comite-de-soutien",storageBucket:"comite-de-soutien.appspot.com",messagingSenderId:"642182812817",appId:"1:642182812817:web:eff866d732bb08ba481b30"}),o=f(e);document.querySelector("form").addEventListener("submit",l=>{l.preventDefault();let s=document.querySelector("button");s.setAttribute("disabled","disabled");let a=document.querySelector("#firstname"),u=document.querySelector("#lastname"),d=document.querySelector("#email"),c=document.querySelector("#role");console.log(a);let n={firstname:a.value,lastname:u.value,email:d.value,role:c.value};q(o,n).then(m=>{m===!0?(s.setAttribute("disabled","false"),window.location.href="liste-des-soutiens.html"):w(o,n).then(I=>{s.setAttribute("disabled","false"),window.location.href="liste-des-soutiens.html"})})})});
